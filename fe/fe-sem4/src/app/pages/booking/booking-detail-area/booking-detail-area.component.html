<p>booking-detail-area works!</p>
<p>booking-detail-area works!</p>


<div class="main-containers">
  <h1 style="color: #5c5c5c;font-size: 50px;margin-left: 100px">ThÃ´ng tin chi tiáº¿t</h1>
<div class="stadium-container">
  <!-- áº¢nh sÃ¢n váº­n Ä‘á»™ng -->
  <div class="stadium-image">
    <img [src]="img" alt="Stadium Image">
  </div>
  <div class="stadium-infor">
    <h1>{{ stadiumDetail.name }}</h1>
    <p class="address"><strong>ğŸ“ Äá»‹a chá»‰:</strong> {{ stadiumDetail.address }}</p>
    <p class="description"><strong>â„¹ï¸ MÃ´ táº£:</strong> {{ stadiumDetail.description }}</p>
    <p><strong>ğŸ“§ Email:</strong> {{ stadiumDetail.email }}</p>
    <p><strong>ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> {{ stadiumDetail.phoneNumber }}</p>
    <div class="booking-options">
      <label class="radio-check">
        <input type="radio" name="bookingType" value="single" [(ngModel)]="bookingType"> Äáº·t sÃ¢n láº»
      </label>
      <label class="radio-check">
        <input type="radio" name="bookingType" value="longTerm" [(ngModel)]="bookingType"> Äáº·t dÃ i háº¡n
      </label>
      <label class="radio-check">
        <input type="radio" name="bookingType" value="tournament" [(ngModel)]="bookingType"> Äáº·t giáº£i Ä‘áº¥u
      </label>
    </div>
    <div>
      <button class="buttonBook" (click)="openDate()">Äáº·t sÃ¢n ngay</button>
    </div>
  </div>
</div>
  <div class="main-container" *ngIf="isPopup">
    <div style="display: flex">
      <h1>Äáº·t lá»‹ch sÃ¢n Ä‘áº¥u</h1>
      <h1> < Tá»« 34/3 Ä‘áº¿n 30/3 ></h1>
    </div>
    <table>
      <thead>
      <tr>
        <th>Thá»i gian</th>
        <th>SÃ¢n</th>
        <th *ngFor="let day of weekSchedule">{{ day.day }}</th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let slot of weekSchedule[0].timeslots">
        <tr *ngFor="let field of slot.fields; let i = index">
          <!-- Hiá»ƒn thá»‹ thá»i gian chá»‰ má»™t láº§n vá»›i rowspan -->
          <td *ngIf="i === 0" [attr.rowspan]="slot.fields.length">{{ slot.time }}</td>
          <td>{{ field.name }}</td>

          <!-- Duyá»‡t qua tá»«ng ngÃ y Ä‘á»ƒ hiá»ƒn thá»‹ giÃ¡ vÃ  tráº¡ng thÃ¡i -->
          <td *ngFor="let day of weekSchedule">
            <ng-container *ngFor="let timeslot of day.timeslots">
              <ng-container *ngIf="timeslot.time === slot.time">
                <ng-container *ngFor="let f of timeslot.fields">
                  <ng-container *ngIf="f.name === field.name">
                    <div
                      class="choose-field"
                      [ngClass]="{ 'selected': isSelected(slot.time, field.name, day.day), 'disabled': f.status === 1 }"
                      (click)="f.status !== 1 && choose(slot.time, field.name, f.price, day.day)">
                      {{ f.price }}
                    </div>
                  </ng-container>
                </ng-container>
              </ng-container>
            </ng-container>
          </td>
        </tr>
      </ng-container>
      </tbody>
    </table>
    <div class="selected-fields-container">
      <h3>Danh sÃ¡ch sÃ¢n Ä‘Ã£ chá»n:</h3>
      <table class="selected-fields-table">
        <thead>
        <tr>
          <th>Thá»i gian</th>
          <th>SÃ¢n</th>
          <th>GiÃ¡</th>
          <th>NgÃ y</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let field of selectedFields">
          <td>{{ field.time }}</td>
          <td>{{ field.name }}</td>
          <td>{{ field.price }}</td>
          <td>{{ field.day }}</td>
        </tr>
        </tbody>
      </table>
    </div>

    <button class="payment-btn" (click)="goToPayment()" [disabled]="selectedFields.length === 0">
      Äi Ä‘áº¿n thanh toÃ¡n
    </button>
  </div>



<h1 style="text-align: center;color: #5c5c5c">CÃ¡c sÃ¢n bÃ³ng gáº§n Ä‘Ã¢y:</h1>
<div class="stadium-list">
          <div *ngFor="let stadium of dataStadium | slice:0:8" class="stadium-card">
            <img [src]="img" alt="ok" />
            <div class="stadium-info">
              <h3>{{ stadium.name }}</h3>
              <p>{{ stadium.address }}</p>
              <div class="rating">
                <span *ngFor="let star of [].constructor(stadium.rating)">{{ 'â˜…â˜…â˜…â˜…' }}</span>
              </div>
            </div>
            <div class="action-buttons">
              <!-- Action 1: Má»Ÿ báº£n Ä‘á»“ -->
              <button class="btn-map" (click)="openMapWithCoordinates(stadium.latitude, stadium.longitude)">
                <i class="fas fa-eye"></i> Xem báº£n Ä‘á»“
              </button>

              <!-- Action 2: Xem chi tiáº¿t sÃ¢n -->
              <button class="btn-detail" (click)="viewDetail(stadium.areaId)">
                <i class="fas fa-info-circle"></i> Xem chi tiáº¿t
              </button>
            </div>
          </div>
        </div>
<p></p>
</div>

<div *ngIf="showLongTermPopup" class="popup-overlay" data-aos="fade-up">
  <div class="popup">
    <h2>Äáº·t sÃ¢n dÃ i háº¡n</h2>

    <label>TÃªn ngÆ°á»i Ä‘áº·t sÃ¢n:
      <input type="text" [(ngModel)]="longTerm.name">
    </label>

    <label>Sá»‘ Ä‘iá»‡n thoáº¡i:
      <input type="tel" [(ngModel)]="longTerm.phone">
    </label>

    <label>NgÃ y báº¯t Ä‘áº§u:
      <input type="date" [(ngModel)]="longTerm.startDate">
    </label>

    <label>NgÃ y káº¿t thÃºc:
      <input type="date" [(ngModel)]="longTerm.endDate">
    </label>

    <label>Khung giá» Ä‘Ã¡:
      <select [(ngModel)]="longTerm.timeSlot">
        <option *ngFor="let time of timeSlots" [value]="time">{{ time }}</option>
      </select>
    </label>

    <label>NgÃ y Ä‘Ã¡ trong tuáº§n:</label>
    <div class="checkbox-group">
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Thá»© 2']"> Mon</label>
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Thá»© 3']"> Tue</label>
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Thá»© 4']"> We</label>
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Thá»© 5']"> Thu</label>
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Thá»© 6']"> Fri</label>
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Thá»© 7']"> Sat</label>
      <label><input type="checkbox" [(ngModel)]="longTerm.days['Chá»§ Nháº­t']"> Sun</label>
    </div>
    <div class="terms-container">
      <p>Xem cÃ¡c Ä‘iá»u khoáº£n cá»§a sÃ¢n: <a href="#" (click)="showLongTermPopup = true">Táº¡i Ä‘Ã¢y</a></p>
    </div>

    <button (click)="confirmLongTerm()">XÃ¡c nháº­n</button>
    <button (click)="closePopupLong()">ÄÃ³ng</button>
  </div>
</div>

<!-- Popup Ä‘áº·t giáº£i Ä‘áº¥u -->
<div *ngIf="showTournamentPopup" class="popup-overlay" data-aos="fade-up">
  <div class="popup">
    <h2>Äáº·t giáº£i Ä‘áº¥u</h2>

    <label>TÃªn giáº£i Ä‘áº¥u:
      <input type="text" [(ngModel)]="tournament.name">
    </label>

    <label>Sá»‘ Ä‘á»™i tham gia:
      <input type="number" [(ngModel)]="tournament.teams">
    </label>

    <label>Sá»‘ tráº­n Ä‘áº¥u dá»± kiáº¿n:
      <input type="number" [(ngModel)]="tournament.matches">
    </label>

    <label>NgÃ y báº¯t Ä‘áº§u:
      <input type="date" [(ngModel)]="tournament.startDate">
    </label>

    <label>NgÃ y káº¿t thÃºc:
      <input type="date" [(ngModel)]="tournament.endDate">
    </label>

    <label>TÃªn ngÆ°á»i Ä‘Äƒng kÃ½:
      <input type="text" [(ngModel)]="tournament.registrantName">
    </label>

    <label>Email:
      <input type="email" [(ngModel)]="tournament.email">
    </label>

    <label>Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn há»‡:
      <input type="tel" [(ngModel)]="tournament.phone">
    </label>
    <div class="terms-container">
      <p>Xem cÃ¡c Ä‘iá»u khoáº£n cá»§a sÃ¢n: <a href="#" (click)="showLongTermPopup = true">Táº¡i Ä‘Ã¢y</a></p>
    </div>
    <button (click)="confirmTournament()">XÃ¡c nháº­n</button>
    <button (click)="closePopup()">ÄÃ³ng</button>
  </div>
</div>
